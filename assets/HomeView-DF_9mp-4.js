var N=Object.defineProperty;var O=(n,s,a)=>s in n?N(n,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[s]=a;var p=(n,s,a)=>O(n,typeof s!="symbol"?s+"":s,a);import{_ as S,r as q,o as D,a as c,c as r,b as t,n as V,u as g,d as x,e as z,f as E,w as A,F as k,g as w,h as F,i as f,t as _,C as $,j as P}from"./main-kSlDl-Bx.js";import{f as R,a as W}from"./anime-CUTGSSnI.js";const Y="/assets/tx-C77PYFN2.png",G="/assets/background3-BKO9ajcG.webp";var h,C=window.innerWidth,L=window.innerWidth,b=[],H=150;class K{constructor(){p(this,"x",y(C));p(this,"y",y(L));p(this,"ySpeed",y(2)+5)}show(){J(this.x,this.y)}run(){this.y>L&&(this.y=0,this.x=y(C)),this.y=this.y+this.ySpeed}}function J(n,s){h.beginPath(),h.strokeStyle="#cccccc",h.moveTo(n,s),h.lineTo(n,s+30),h.stroke()}function y(n){return Math.random()*n}function Q(){for(var n=0;n<H;n++){var s=new K;b.push(s),s.show()}setInterval(()=>{h.clearRect(0,0,C,L);for(var a=0;a<H;a++)b[a].show(),b[a].run()},10)}function U(n){h=n,Q()}const X={class:"background"},Z=["src"],tt=x({name:"background"}),st=Object.assign(tt,{setup(n){const s=q({position:"absolute",width:"100%",height:"100%",zIndex:"-1",left:"0",top:"0",overflow:"hidden"}),a=q({});D(()=>{i()});function i(){const e=document.querySelector("#canvas");a.value=e.getContext("2d"),e.width=window.innerWidth,e.height=window.innerHeight,U(a.value)}return(e,o)=>(c(),r("div",X,[t("canvas",{id:"canvas",style:V(s.value)},null,4),t("img",{src:g(G),alt:"background"},null,8,Z),o[0]||(o[0]=t("div",{class:"overlay"},null,-1))]))}}),et=S(st,[["__scopeId","data-v-df68e9d2"]]),nt={class:"main-2"},ot={class:"fanjv"},at={id:"fanjv",class:"fanjv-timeshow"},it={class:"fanjv-all",id:"fanjv-python"},ct={class:"fanjv-top"},rt={class:"fanjv-top-1"},dt={class:"fanjv-scrq"},lt={class:"fanjv-times"},ut={class:"today-header"},_t={class:"fanjv-main"},vt=["id"],ht={class:"anime-list"},ft=["src"],mt={class:"anime-title"},pt=x({name:"main_2"}),yt=x({...pt,setup(n){const s=z([]);D(async()=>{try{const e=await R();s.push(...e),a(),i()}catch(e){console.error("数据获取失败:",e)}});function a(){const e=(new Date().getDay()+6)%7+1;setTimeout(()=>{var u;const o=document.querySelectorAll(".fanjv-times div"),m=document.querySelectorAll(".day-container"),l=(u=o[e-1])==null?void 0:u.querySelector("p");l&&l.classList.add("dqxq"),m.forEach(v=>v.style.display="none");const d=document.getElementById("day-"+e);d&&(d.style.display="block"),o.forEach((v,M)=>{v.addEventListener("click",()=>{m.forEach(j=>j.style.display="none");const I=document.getElementById("day-"+(M+1));I&&(I.style.display="block"),o.forEach(j=>{const T=j.querySelector("p");T&&T.classList.remove("dqxq")});const B=v.querySelector("p");B&&B.classList.add("dqxq")})})},1e3)}function i(){const e=document.querySelector(".fanjv-main");e&&e.addEventListener("wheel",function(o){o.preventDefault(),e.scrollLeft+=o.deltaY},{passive:!1})}return document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("fanjv");fetch("fanjv/index.html").then(o=>o.text()).then(o=>{const d=new DOMParser().parseFromString(o,"text/html").getElementById("fanjv-python");d&&e?(e.innerHTML="",e.appendChild(d.cloneNode(!0))):console.error("未找到目标元素")}).catch(o=>console.error("获取HTML内容失败",o))}),(e,o)=>{const m=F("RouterLink");return c(),r("div",nt,[t("div",ot,[t("div",at,[t("div",it,[t("div",ct,[t("div",rt,[o[1]||(o[1]=t("div",{class:"fanjv-header"},[t("h1",null,"今日番剧")],-1)),t("div",dt,[E(m,{to:"/anime",class:"fanjv-scrq-1"},{default:A(()=>o[0]||(o[0]=[f("详细页面")])),_:1})])])]),t("div",lt,[(c(!0),r(k,null,w(s,(l,d)=>(c(),r("div",{key:d},[t("p",ut,[o[2]||(o[2]=t("span",{id:"xq"},null,-1)),f(_(l.weekday.cn),1)])]))),128))]),t("div",_t,[(c(!0),r(k,null,w(s,(l,d)=>(c(),r("div",{key:d,id:"day-"+l.weekday.id,class:"day-container"},[t("div",ht,[(c(!0),r(k,null,w(l.items,u=>{var v;return c(),r("div",{key:u.id,class:"anime-item"},[t("img",{src:(v=u.images)!=null&&v.large?u.images.large:"https://dummyimage.com/350x600/cccccc/ffffff&text=%E6%97%A0%E5%B0%81%E9%9D%A2",alt:"anime.name",class:"anime-image"},null,8,ft),t("p",mt,_(u.name_cn||u.name),1)])}),128))])],8,vt))),128))])])])])])}}}),gt=S(yt,[["__scopeId","data-v-3d2239d5"]]);async function kt(){try{const{data:n}=await W.get("https://v1.hitokoto.cn");return n}catch{throw new Error("获取一言失败")}}const wt={class:"main"},xt={class:"card"},jt={class:"me"},$t={class:"info"},bt={class:"name"},qt={class:"bio"},Et={class:"social"},Ct=["href","title"],Lt={class:"hitokoto"},St={class:"hitokoto-text"},Dt={class:"hitokoto-from"},It={class:"anime"},Bt={class:"main-tile"},Tt={class:"hitokoto-text"},Ht={class:"hitokoto-from"},Mt=x({name:"HomeView"}),Nt=Object.assign(Mt,{setup(n){const s=q({hitokoto:"权酱是个大吃货",creator:"xiaoqvan"});return D(()=>{kt().then(a=>{s.value=a})}),(a,i)=>(c(),r("div",wt,[E(et),t("div",xt,[t("div",jt,[i[0]||(i[0]=t("div",{class:"me-avatar"},[t("img",{src:Y,alt:""})],-1)),t("div",$t,[t("p",bt,_(g($).name),1),t("p",qt,_(g($).introduction),1)])]),t("div",Et,[(c(!0),r(k,null,w(g($).socialLinks,e=>(c(),r("div",{key:e.href,class:"social-item"},[t("a",{class:"no-link",href:e.href,title:e.title,target:"_blank"},[t("i",{class:P(`fa-brands ${e.icon}`)},null,2)],8,Ct)]))),128))]),t("div",Lt,[t("p",St,_(s.value.hitokoto),1),t("div",Dt,[i[1]||(i[1]=f("-「 ")),t("span",null,_(s.value.creator),1),i[2]||(i[2]=f(" 」"))])]),t("div",It,[E(gt)])]),t("div",Bt,[t("h1",Tt,_(s.value.hitokoto),1),t("h2",Ht,[i[3]||(i[3]=f("-「 ")),t("span",null,_(s.value.creator),1),i[4]||(i[4]=f(" 」"))])])]))}}),At=S(Nt,[["__scopeId","data-v-d6f3ef6f"]]);export{At as default};
